import argparse
import PoolSubjs
import sys

# studyforrest data
studyforrest=PoolSubjs.poolsubjs('studyforrest',
                                        datapth='/camcan/sf_parc_278',
                                        subjlist='/camcan/FPNflexiblehubs/FPNflexiblehubs/subjlistSF.txt',
                                        filenametemplate='{subj}_task-avmovie_run-{sess0}_bold.csv', # {subj} will be replaced by subject; {sess0} will be replaced by session number (first session=0); {sess1} will be replaced by session number (first sess=1)
                                        fileseparator=',',
                                        nsess=8,
                                        nroi=278,
                                        resultspth='/camcan/FPNflexiblehubs/FPNflexiblehubs/res/studyforrest',
                                        atlaspth='/camcan/SFdata/atlases/shen_to_power.csv',
                                        drop_first_column=False,
                                        has_header_row=True,
                                        network_dict={
                                            'FPN': [0, 5, 8, 19, 39, 71, 89, 106, 115, 123, 124, 128, 139, 142, 144, 176, 178, 186, 192, 196, 202, 220, 275],
                                            'CON': [16, 58, 63, 81, 82, 175, 215, 236, 245, 263, 268, 276],
                                            'SAN': [26, 42, 54, 62, 66, 87, 90, 93, 102, 110, 136, 137, 160, 168, 172, 179, 258],
                                            'VAN': [61, 74, 121, 171, 188, 211, 214], 
                                            'DAN': [24, 28, 34, 59, 79, 84, 94, 146, 159, 213, 228, 234, 239, 241, 249],
                                            'DMN': [1, 2, 9, 20, 23, 32, 36, 37, 38, 41, 45, 46, 47, 53, 64, 68, 77, 80, 88, 100, 112, 118, 122, 130, 131, 134, 163, 170, 180, 181, 185, 190, 191, 193, 199, 203, 223, 224, 225, 227, 232, 233, 240, 242, 243, 247, 250, 266, 270, 273, 274],
                                            'Motor': [3, 6, 7, 27, 31, 44, 56, 70, 99, 104, 138, 145, 147, 156, 165, 229, 252, 253, 254, 261, 33, 49, 92, 153, 205, 277, 33, 49, 92, 153, 205, 277],
                                            'Aud.': [4, 14, 17, 43, 50, 55, 182, 194, 209, 217, 267],
                                            'Vis.': [11, 13, 22, 29, 35, 52, 72, 83, 86, 96, 101, 105, 107, 116, 119, 120, 126, 135, 149, 152, 155, 164, 167, 184, 189, 204, 207, 221, 222, 226, 246, 269],
                                            'Subc.': [10, 24, 51, 57, 97, 98, 113, 117, 127, 143, 148, 150, 154, 166, 198, 206, 259, 262, 272],
                                            'Whole Brain': [8, 21, 25, 30, 48, 60, 65, 69, 73, 75, 76, 85, 95, 108, 109, 111, 114, 125, 129, 132, 133, 141, 157, 161, 162, 169, 173, 183, 187, 197, 200, 201, 208, 212, 216, 219, 235, 237, 238, 255, 256, 264, 265, 271, 3, 6, 7, 27, 31, 44, 56, 70, 99, 104, 138, 145, 147, 156, 165, 229, 252, 253, 254, 261, 33, 49, 92, 153, 205, 277, 33, 49, 92, 153, 205, 277, 16, 58, 63, 81, 82, 175, 215, 236, 245, 263, 268, 276, 4, 14, 17, 43, 50, 55, 182, 194, 209, 217, 267, 1, 2, 9, 20, 23, 32, 36, 37, 38, 41, 45, 46, 47, 53, 64, 68, 77, 80, 88, 100, 112, 118, 122, 130, 131, 134, 163, 170, 180, 181, 185, 190, 191, 193, 199, 203, 223, 224, 225, 227, 232, 233, 240, 242, 243, 247, 250, 266, 270, 273, 274, 15, 40, 91, 151, 231, 248, 257, 11, 13, 22, 29, 35, 52, 72, 83, 86, 96, 101, 105, 107, 116, 119, 120, 126, 135, 149, 152, 155, 164, 167, 184, 189, 204, 207, 221, 222, 226, 246, 269, 0, 5, 8, 19, 39, 71, 89, 106, 115, 123, 124, 128, 139, 142, 144, 176, 178, 186, 192, 196, 202, 220, 275, 26, 42, 54, 62, 66, 87, 90, 93, 102, 110, 136, 137, 160, 168, 172, 179, 258, 10, 24, 51, 57, 97, 98, 113, 117, 127, 143, 148, 150, 154, 166, 198, 206, 259, 262, 272, 61, 74, 121, 171, 188, 211, 214, 24, 28, 34, 59, 79, 84, 94, 146, 159, 213, 228, 234, 239, 241, 249, 12, 67, 78, 103, 140, 158, 174, 177, 195, 210, 218, 230, 251, 260],
                                            }
                                        )







chunklen=int(sys.argv[1])

# Run stage 3
#studyforrest.stage3_analysis(chunklen, corr=1)

# Run stage 4
studyforrest.stage4_analysis(chunklen, corr=1)
